import{S as y,i as k,s as C,x as m,a0 as v,k as S,z as M,l as P,m as I,A as W,h as g,p as j,b as q,B as D,a1 as b,g as G,d as H,C as R}from"../chunks/index.7aa01268.js";import{A as z,a as E,b as L}from"../chunks/index.4a7c2519.js";import{v as _,C as N,R as w}from"../chunks/projects.a244b7a2.js";const T=10;class V{constructor(t,s,a){this.pos=new _(t,s),this.vel=new _(0,0),this.color=a}step(){this.pos=this.pos.plus(this.vel)}}class A{constructor(){this.bodies=[],this.trails=[],this.gravity_constant=6.7*1,this.light_speed=2,this.paths_length=5,this.number_iterations=10}step(){for(let t=0;t<this.number_iterations;t++){for(let s=0;s<this.bodies.length;s++)this.bodies[s].step();for(let s=0;s<this.bodies.length-1;s++)for(let a=s+1;a<this.bodies.length;a++)this.gravity(this.bodies[s],this.bodies[a])}for(let t=0;t<this.bodies.length;t++){for(;this.trails[t].length>this.paths_length;)this.trails[t].shift();this.trails[t].push(this.bodies[t].pos)}}gravity(t,s){let a=s.pos.x-t.pos.x,e=s.pos.y-t.pos.y,h=Math.pow(a,2)+Math.pow(e,2)+T,c=this.light_speed,r=this.gravity_constant*(.01/h);r>c&&(r=c);let l=new _(a,e).divide(Math.sqrt(h)).times(r);t.vel=t.vel.plus(l),s.vel=s.vel.minus(l)}add(t){this.bodies.push(t),this.trails.push([t.pos])}}function F(o){let t,s,a,e,h;function c(i){o[4](i)}function u(i){o[5](i)}let r={setup:o[2],draw:o[3]};return o[0]!==void 0&&(r.values=o[0]),o[1]!==void 0&&(r.actions=o[1]),s=new N({props:r}),m.push(()=>v(s,"values",c,o[0])),m.push(()=>v(s,"actions",u,o[1])),{c(){t=S("div"),M(s.$$.fragment),this.h()},l(i){t=P(i,"DIV",{class:!0});var l=I(t);W(s.$$.fragment,l),l.forEach(g),this.h()},h(){j(t,"class","relative")},m(i,l){q(i,t,l),D(s,t,null),h=!0},p(i,[l]){const n={};!a&&l&1&&(a=!0,n.values=i[0],b(()=>a=!1)),!e&&l&2&&(e=!0,n.actions=i[1],b(()=>e=!1)),s.$set(n)},i(i){h||(G(s.$$.fragment,i),h=!0)},o(i){H(s.$$.fragment,i),h=!1},d(i){i&&g(t),R(s)}}}let J=200;function K(o,t,s){let a=!1;const e=new A;e.reset=function(){e.bodies=[],e.trails=[];for(let n=0;n<J;n++)e.add(new V(w(window.innerWidth),w(window.innerHeight),[0,0,0]))},e.draw=function(n){n.strokeWeight(3);for(let f=0;f<e.trails.length;f++){const $=e.bodies[f],p=e.trails[f];n.stroke($.color);for(let d=0;d<p.length-1;d++)n.line(p[d].x,p[d].y,p[d+1].x,p[d+1].y)}};const h=n=>{n.createCanvas(window.innerWidth,window.innerHeight),e.reset()},c=n=>{n.background(220),a||e.step(),e.draw(n)};let u=e,r={reset:{label:z,function:()=>{e.reset()}},pause:{label:a?E:L,function:()=>{a=!a}}};function i(n){u=n,s(0,u)}function l(n){r=n,s(1,r)}return[u,r,h,c,i,l]}class X extends y{constructor(t){super(),k(this,t,K,F,C,{})}}export{X as component};
