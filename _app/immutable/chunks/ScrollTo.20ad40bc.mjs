import{n as u,D as w,W as m}from"./index.73c741f7.mjs";import{w as g}from"./index.8e5b1c0d.mjs";function d(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}const E=g([]),b=g({offset:0,duration:500,easing:d,onStart:u,onDone:u}),O=w(b),p=()=>O,v=e=>e.replace(/[^A-Z0-9]/gi,"").toLowerCase(),L=(e,o)=>{const t=e.filter(n=>n.reference===o);return t.length?t[0].node:null},y=e=>e.offsetTop,T=(e,o,t,n,r)=>t>n?o:e+(o-e)*r(t/n),A=async(e,o)=>new Promise(t=>{const{start:n,end:r,duration:s,easing:c}=e,l=m(),i=()=>{const a=m()-l,h=T(n,r,a,s,c);if(o(h),a>s)return t();window.requestAnimationFrame(i)};window.requestAnimationFrame(i)}),q=p(),D=async(e,o)=>{const{duration:t,easing:n,offset:r}=Object.assign(q,o),s=window.pageYOffset,c=e+r;await A({start:s,end:c,duration:t,easing:n},l=>{window.scroll(0,l)})},P=w(E),f=async(e,o)=>{e.preventDefault();const{ref:t,onDone:n,onStart:r}=o,s=o.duration,c=o.offset,l=o.easing,i=L(P,t);if(!i)throw new Error(`Element reference '${t}' not found`);const a=y(i);r&&r({element:i,offset:c,duration:s,endPosition:a}),await D(a,{duration:s,offset:c,easing:l}),n&&n({element:i,offset:c,duration:s,endPosition:a})},M=(e,o)=>{if(!o)throw new Error("scrollTo require a options");let t=Object.assign({ref:""},p());if(typeof o=="string"?t.ref=o:t=Object.assign(t,o),t.ref=v(t.ref),!t.ref)throw new Error("scrollTo require a reference");return e instanceof HTMLAnchorElement&&(e.href=`#${t.ref}`),e instanceof HTMLAnchorElement||(e.style.cursor="pointer"),e.addEventListener("click",n=>f(n,t)),e.addEventListener("touchstart",n=>f(n,t)),{destroy(){e.removeEventListener("click",n=>f(n,t)),e.removeEventListener("touchstart",n=>f(n,t))}}};export{v as a,M as b,E as e,p as g,D as s};
